<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.maeumi.prj.service.MemberMapper">
	<select id="memberSelectList" resultType="co.maeumi.prj.service.MemberVO">
		SELECT * 
		FROM MEMBER
	</select>
	
	<select id="memberSelect" resultType="co.maeumi.prj.service.MemberVO">
		SELECT * 
		FROM MEMBER
		WHERE M_EMAIL = #{m_email}
			<if test="m_password != null">
				AND M_PASSWORD = #{m_password}
			</if>
	</select>
	
	<select id="memberNicknameCheck" resultType="boolean">
		select case when (count(*) = 1) then 'TRUE' else 'FALSE' end
		from member
		where m_nickname = #{m_nickname} 
	</select>
	
	<insert id="memberInsert" parameterType="co.maeumi.prj.service.MemberVO">
		insert into 
		member(m_email, m_nickname, m_phone, m_password, m_type)
		values(#{m_email}, #{m_nickname}, #{m_phone}, #{m_password}, #{m_type} )
	</insert>
	
	
</mapper>